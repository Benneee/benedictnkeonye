<ion-header color="primary">
  <ion-toolbar>
    <ion-title>Sign up</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-card class="ion-margin-bottom">
    <div class="ion-text-center">
      <img
        src="../../../assets/images/auth.svg"
        alt="Login"
        class="login-img"
      />
    </div>

    <ion-card-header class="ion-text-center">
      <ion-card-subtitle>Enter account details</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="signupForm" (ngSubmit)="submit()">
        <ion-grid>
          <ion-row>
            <ion-col size-sm="6" offset-sm="3">
              <ion-list>
                <ion-item>
                  <ion-label position="floating">Full name</ion-label>
                  <ion-input type="text" formControlName="name"></ion-input>
                </ion-item>
                <ion-item
                  lines="none"
                  *ngIf="controls?.name.touched && !controls?.name.valid && controls?.name?.errors?.minlength"
                >
                  <small>Enter a valid name</small>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Email</ion-label>
                  <ion-input type="email" formControlName="email"></ion-input>
                </ion-item>
                <ion-item
                  lines="none"
                  *ngIf="controls?.email.touched && !controls?.email.valid"
                >
                  <small>Enter a valid email address</small>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Password</ion-label>
                  <ion-input
                    type="password"
                    formControlName="password"
                  ></ion-input>
                </ion-item>
                <ion-item
                  lines="none"
                  *ngIf="controls?.password.touched && controls?.password.invalid"
                >
                  <small>Enter your password</small>
                </ion-item>
                <ion-item>
                  <ion-label position="floating">Age</ion-label>
                  <ion-input type="number" formControlName="age"></ion-input>
                </ion-item>
                <ion-item
                  lines="none"
                  *ngIf="controls?.age.touched && controls?.age.invalid"
                >
                  <small>Enter your age</small>
                </ion-item>
                <ion-item>
                  <!-- <ion-label position="floating">Avatar</ion-label> -->
                  <ion-input
                    type="file"
                    id="imageUpload"
                    accept=".png, .jpg, .jpeg"
                    (change)="handleImgUpload($event)"
                  ></ion-input>
                </ion-item>
                <ion-item
                  lines="none"
                  *ngIf="controls?.avatar.touched && controls?.avatar?.invalid"
                >
                  <small>Upload an image</small>
                </ion-item>
              </ion-list>
            </ion-col>
          </ion-row>

          <ion-row class="ion-margin-bottom">
            <ion-col size-sm="6" offset-sm="3">
              <ion-button
                color="primary"
                type="submit"
                [disabled]="!signupForm.valid"
                expand="block"
              >
                Sign up
              </ion-button>
              <ion-item>
                <p>
                  Already have an account?
                  <a
                    [routerLink]="['/login']"
                    routerLinkActive="router-link-active"
                    >Log in</a
                  >
                </p>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-grid>
      </form>
      <ion-item *ngIf="error !== null">
        <small class="ion-text-danger"> {{ error }} </small>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>
